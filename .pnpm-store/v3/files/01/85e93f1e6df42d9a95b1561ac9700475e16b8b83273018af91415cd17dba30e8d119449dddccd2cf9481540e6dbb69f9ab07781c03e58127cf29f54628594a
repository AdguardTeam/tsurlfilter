{"version":3,"file":"noRestrictedSyntax.js","names":["iterateJsdoc","node","context","info","comment","sourceCode","report","options","length","contexts","foundContext","find","cntxt","esquery","matches","parse","visitorKeys","contextStr","message","contextSelected","meta","docs","description","url","fixable","schema","additionalProperties","properties","items","anyOf","type","required"],"sources":["../../src/rules/noRestrictedSyntax.js"],"sourcesContent":["import esquery from 'esquery';\nimport iterateJsdoc from '../iterateJsdoc';\n\nexport default iterateJsdoc(({\n  node,\n  context,\n  info: {\n    comment,\n  },\n  sourceCode,\n  report,\n}) => {\n  if (!context.options.length) {\n    report('Rule `no-restricted-syntax` is missing a `context` option.');\n\n    return;\n  }\n\n  const {\n    contexts,\n  } = context.options[0];\n\n  const foundContext = contexts.find((cntxt) => {\n    return typeof cntxt === 'string' ?\n      esquery.matches(node, esquery.parse(cntxt), null, {\n        visitorKeys: sourceCode.visitorKeys,\n      }) :\n      (!cntxt.context || cntxt.context === 'any' || esquery.matches(node, esquery.parse(cntxt.context), null, {\n        visitorKeys: sourceCode.visitorKeys,\n      })) &&\n        comment === cntxt.comment;\n  });\n\n  // We are not on the *particular* matching context/comment, so don't assume\n  //   we need reporting\n  if (!foundContext) {\n    return;\n  }\n\n  const contextStr = typeof foundContext === 'object' ?\n    foundContext.context ?? 'any' :\n    foundContext;\n  const message = foundContext?.message ??\n    'Syntax is restricted: {{context}}' +\n      (comment ? ' with {{comment}}' : '');\n\n  report(message, null, null, {\n    comment,\n    context: contextStr,\n  });\n}, {\n  contextSelected: true,\n  meta: {\n    docs: {\n      description: 'Reports when certain comment structures are present.',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-no-restricted-syntax',\n    },\n    fixable: 'code',\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          contexts: {\n            items: {\n              anyOf: [\n                {\n                  type: 'string',\n                },\n                {\n                  additionalProperties: false,\n                  properties: {\n                    comment: {\n                      type: 'string',\n                    },\n                    context: {\n                      type: 'string',\n                    },\n                    message: {\n                      type: 'string',\n                    },\n                  },\n                  type: 'object',\n                },\n              ],\n            },\n            type: 'array',\n          },\n        },\n        required: [\n          'contexts',\n        ],\n        type: 'object',\n      },\n    ],\n    type: 'suggestion',\n  },\n});\n"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,IAAAA,qBAAA,EAAa,CAAC;EAC3BC,IAD2B;EAE3BC,OAF2B;EAG3BC,IAAI,EAAE;IACJC;EADI,CAHqB;EAM3BC,UAN2B;EAO3BC;AAP2B,CAAD,KAQtB;EACJ,IAAI,CAACJ,OAAO,CAACK,OAAR,CAAgBC,MAArB,EAA6B;IAC3BF,MAAM,CAAC,4DAAD,CAAN;IAEA;EACD;;EAED,MAAM;IACJG;EADI,IAEFP,OAAO,CAACK,OAAR,CAAgB,CAAhB,CAFJ;EAIA,MAAMG,YAAY,GAAGD,QAAQ,CAACE,IAAT,CAAeC,KAAD,IAAW;IAC5C,OAAO,OAAOA,KAAP,KAAiB,QAAjB,GACLC,gBAAA,CAAQC,OAAR,CAAgBb,IAAhB,EAAsBY,gBAAA,CAAQE,KAAR,CAAcH,KAAd,CAAtB,EAA4C,IAA5C,EAAkD;MAChDI,WAAW,EAAEX,UAAU,CAACW;IADwB,CAAlD,CADK,GAIL,CAAC,CAACJ,KAAK,CAACV,OAAP,IAAkBU,KAAK,CAACV,OAAN,KAAkB,KAApC,IAA6CW,gBAAA,CAAQC,OAAR,CAAgBb,IAAhB,EAAsBY,gBAAA,CAAQE,KAAR,CAAcH,KAAK,CAACV,OAApB,CAAtB,EAAoD,IAApD,EAA0D;MACtGc,WAAW,EAAEX,UAAU,CAACW;IAD8E,CAA1D,CAA9C,KAGEZ,OAAO,KAAKQ,KAAK,CAACR,OAPtB;EAQD,CAToB,CAArB,CAXI,CAsBJ;EACA;;EACA,IAAI,CAACM,YAAL,EAAmB;IACjB;EACD;;EAED,MAAMO,UAAU,GAAG,OAAOP,YAAP,KAAwB,QAAxB,GACjBA,YAAY,CAACR,OAAb,IAAwB,KADP,GAEjBQ,YAFF;EAGA,MAAMQ,OAAO,GAAG,CAAAR,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEQ,OAAd,KACd,uCACGd,OAAO,GAAG,mBAAH,GAAyB,EADnC,CADF;EAIAE,MAAM,CAACY,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB;IAC1Bd,OAD0B;IAE1BF,OAAO,EAAEe;EAFiB,CAAtB,CAAN;AAID,CA/Cc,EA+CZ;EACDE,eAAe,EAAE,IADhB;EAEDC,IAAI,EAAE;IACJC,IAAI,EAAE;MACJC,WAAW,EAAE,sDADT;MAEJC,GAAG,EAAE;IAFD,CADF;IAKJC,OAAO,EAAE,MALL;IAMJC,MAAM,EAAE,CACN;MACEC,oBAAoB,EAAE,KADxB;MAEEC,UAAU,EAAE;QACVlB,QAAQ,EAAE;UACRmB,KAAK,EAAE;YACLC,KAAK,EAAE,CACL;cACEC,IAAI,EAAE;YADR,CADK,EAIL;cACEJ,oBAAoB,EAAE,KADxB;cAEEC,UAAU,EAAE;gBACVvB,OAAO,EAAE;kBACP0B,IAAI,EAAE;gBADC,CADC;gBAIV5B,OAAO,EAAE;kBACP4B,IAAI,EAAE;gBADC,CAJC;gBAOVZ,OAAO,EAAE;kBACPY,IAAI,EAAE;gBADC;cAPC,CAFd;cAaEA,IAAI,EAAE;YAbR,CAJK;UADF,CADC;UAuBRA,IAAI,EAAE;QAvBE;MADA,CAFd;MA6BEC,QAAQ,EAAE,CACR,UADQ,CA7BZ;MAgCED,IAAI,EAAE;IAhCR,CADM,CANJ;IA0CJA,IAAI,EAAE;EA1CF;AAFL,CA/CY,C"}