{"version":3,"file":"checkIndentation.js","names":["maskExcludedContent","str","excludeTags","regContent","RegExp","join","replace","_match","margin","code","repeat","match","length","maskCodeBlocks","iterateJsdoc","sourceCode","jsdocNode","report","context","options","reg","textWithoutCodeBlocks","getText","text","test","lineBreaks","slice","lastIndex","line","iterateAllJsdocs","meta","docs","description","url","schema","additionalProperties","properties","items","pattern","type"],"sources":["../../src/rules/checkIndentation.js"],"sourcesContent":["import iterateJsdoc from '../iterateJsdoc';\n\nconst maskExcludedContent = (str, excludeTags) => {\n  const regContent = new RegExp(`([ \\\\t]+\\\\*)[ \\\\t]@(?:${excludeTags.join('|')})(?=[ \\\\n])([\\\\w|\\\\W]*?\\\\n)(?=[ \\\\t]*\\\\*(?:[ \\\\t]*@\\\\w+\\\\s|\\\\/))`, 'gu');\n\n  return str.replace(regContent, (_match, margin, code) => {\n    return (margin + '\\n').repeat(code.match(/\\n/gu).length);\n  });\n};\n\nconst maskCodeBlocks = (str) => {\n  const regContent = /([ \\t]+\\*)[ \\t]```[^\\n]*?([\\w|\\W]*?\\n)(?=[ \\t]*\\*(?:[ \\t]*(?:```|@\\w+\\s)|\\/))/gu;\n\n  return str.replace(regContent, (_match, margin, code) => {\n    return (margin + '\\n').repeat(code.match(/\\n/gu).length);\n  });\n};\n\nexport default iterateJsdoc(({\n  sourceCode,\n  jsdocNode,\n  report,\n  context,\n}) => {\n  const options = context.options[0] || {};\n  const {\n    excludeTags = [\n      'example',\n    ],\n  } = options;\n\n  const reg = /^(?:\\/?\\**|[ \\t]*)\\*[ \\t]{2}/gmu;\n  const textWithoutCodeBlocks = maskCodeBlocks(sourceCode.getText(jsdocNode));\n  const text = excludeTags.length ? maskExcludedContent(textWithoutCodeBlocks, excludeTags) : textWithoutCodeBlocks;\n\n  if (reg.test(text)) {\n    const lineBreaks = text.slice(0, reg.lastIndex).match(/\\n/gu) || [];\n    report('There must be no indentation.', null, {\n      line: lineBreaks.length,\n    });\n  }\n}, {\n  iterateAllJsdocs: true,\n  meta: {\n    docs: {\n      description: 'Reports invalid padding inside JSDoc blocks.',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-check-indentation',\n    },\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          excludeTags: {\n            items: {\n              pattern: '^\\\\S+$',\n              type: 'string',\n            },\n            type: 'array',\n          },\n        },\n        type: 'object',\n      },\n    ],\n    type: 'layout',\n  },\n});\n"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,mBAAmB,GAAG,CAACC,GAAD,EAAMC,WAAN,KAAsB;EAChD,MAAMC,UAAU,GAAG,IAAIC,MAAJ,CAAY,yBAAwBF,WAAW,CAACG,IAAZ,CAAiB,GAAjB,CAAsB,kEAA1D,EAA6H,IAA7H,CAAnB;EAEA,OAAOJ,GAAG,CAACK,OAAJ,CAAYH,UAAZ,EAAwB,CAACI,MAAD,EAASC,MAAT,EAAiBC,IAAjB,KAA0B;IACvD,OAAO,CAACD,MAAM,GAAG,IAAV,EAAgBE,MAAhB,CAAuBD,IAAI,CAACE,KAAL,CAAW,MAAX,EAAmBC,MAA1C,CAAP;EACD,CAFM,CAAP;AAGD,CAND;;AAQA,MAAMC,cAAc,GAAIZ,GAAD,IAAS;EAC9B,MAAME,UAAU,GAAG,iFAAnB;EAEA,OAAOF,GAAG,CAACK,OAAJ,CAAYH,UAAZ,EAAwB,CAACI,MAAD,EAASC,MAAT,EAAiBC,IAAjB,KAA0B;IACvD,OAAO,CAACD,MAAM,GAAG,IAAV,EAAgBE,MAAhB,CAAuBD,IAAI,CAACE,KAAL,CAAW,MAAX,EAAmBC,MAA1C,CAAP;EACD,CAFM,CAAP;AAGD,CAND;;eAQe,IAAAE,qBAAA,EAAa,CAAC;EAC3BC,UAD2B;EAE3BC,SAF2B;EAG3BC,MAH2B;EAI3BC;AAJ2B,CAAD,KAKtB;EACJ,MAAMC,OAAO,GAAGD,OAAO,CAACC,OAAR,CAAgB,CAAhB,KAAsB,EAAtC;EACA,MAAM;IACJjB,WAAW,GAAG,CACZ,SADY;EADV,IAIFiB,OAJJ;EAMA,MAAMC,GAAG,GAAG,iCAAZ;EACA,MAAMC,qBAAqB,GAAGR,cAAc,CAACE,UAAU,CAACO,OAAX,CAAmBN,SAAnB,CAAD,CAA5C;EACA,MAAMO,IAAI,GAAGrB,WAAW,CAACU,MAAZ,GAAqBZ,mBAAmB,CAACqB,qBAAD,EAAwBnB,WAAxB,CAAxC,GAA+EmB,qBAA5F;;EAEA,IAAID,GAAG,CAACI,IAAJ,CAASD,IAAT,CAAJ,EAAoB;IAClB,MAAME,UAAU,GAAGF,IAAI,CAACG,KAAL,CAAW,CAAX,EAAcN,GAAG,CAACO,SAAlB,EAA6BhB,KAA7B,CAAmC,MAAnC,KAA8C,EAAjE;IACAM,MAAM,CAAC,+BAAD,EAAkC,IAAlC,EAAwC;MAC5CW,IAAI,EAAEH,UAAU,CAACb;IAD2B,CAAxC,CAAN;EAGD;AACF,CAvBc,EAuBZ;EACDiB,gBAAgB,EAAE,IADjB;EAEDC,IAAI,EAAE;IACJC,IAAI,EAAE;MACJC,WAAW,EAAE,8CADT;MAEJC,GAAG,EAAE;IAFD,CADF;IAKJC,MAAM,EAAE,CACN;MACEC,oBAAoB,EAAE,KADxB;MAEEC,UAAU,EAAE;QACVlC,WAAW,EAAE;UACXmC,KAAK,EAAE;YACLC,OAAO,EAAE,QADJ;YAELC,IAAI,EAAE;UAFD,CADI;UAKXA,IAAI,EAAE;QALK;MADH,CAFd;MAWEA,IAAI,EAAE;IAXR,CADM,CALJ;IAoBJA,IAAI,EAAE;EApBF;AAFL,CAvBY,C"}