{"version":3,"file":"requireExample.js","names":["iterateJsdoc","context","jsdoc","report","utils","avoidDocs","enableFixer","exemptNoArguments","options","targetTagName","functionExamples","tags","filter","tag","length","isIteratingFunction","hasParams","reportJSDoc","addTag","example","exampleContent","name","getTagDescription","trim","split","Boolean","contextDefaults","meta","docs","description","url","fixable","schema","additionalProperties","properties","checkConstructors","default","type","checkGetters","checkSetters","contexts","items","anyOf","comment","exemptedBy"],"sources":["../../src/rules/requireExample.js"],"sourcesContent":["import iterateJsdoc from '../iterateJsdoc';\n\nexport default iterateJsdoc(({\n  context,\n  jsdoc,\n  report,\n  utils,\n}) => {\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  const {\n    enableFixer = true,\n    exemptNoArguments = false,\n  } = context.options[0] || {};\n\n  const targetTagName = 'example';\n\n  const functionExamples = jsdoc.tags.filter(({\n    tag,\n  }) => {\n    return tag === targetTagName;\n  });\n\n  if (!functionExamples.length) {\n    if (exemptNoArguments && utils.isIteratingFunction() &&\n      !utils.hasParams()\n    ) {\n      return;\n    }\n\n    utils.reportJSDoc(`Missing JSDoc @${targetTagName} declaration.`, null, () => {\n      if (enableFixer) {\n        utils.addTag(targetTagName);\n      }\n    });\n\n    return;\n  }\n\n  for (const example of functionExamples) {\n    const exampleContent = `${example.name} ${utils.getTagDescription(example)}`\n      .trim()\n      .split('\\n')\n      .filter(Boolean);\n\n    if (!exampleContent.length) {\n      report(`Missing JSDoc @${targetTagName} description.`, null, example);\n    }\n  }\n}, {\n  contextDefaults: true,\n  meta: {\n    docs: {\n      description: 'Requires that all functions have examples.',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules-require-example',\n    },\n    fixable: 'code',\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          checkConstructors: {\n            default: true,\n            type: 'boolean',\n          },\n          checkGetters: {\n            default: false,\n            type: 'boolean',\n          },\n          checkSetters: {\n            default: false,\n            type: 'boolean',\n          },\n          contexts: {\n            items: {\n              anyOf: [\n                {\n                  type: 'string',\n                },\n                {\n                  additionalProperties: false,\n                  properties: {\n                    comment: {\n                      type: 'string',\n                    },\n                    context: {\n                      type: 'string',\n                    },\n                  },\n                  type: 'object',\n                },\n              ],\n            },\n            type: 'array',\n          },\n          enableFixer: {\n            default: true,\n            type: 'boolean',\n          },\n          exemptedBy: {\n            items: {\n              type: 'string',\n            },\n            type: 'array',\n          },\n          exemptNoArguments: {\n            default: false,\n            type: 'boolean',\n          },\n        },\n        type: 'object',\n      },\n    ],\n    type: 'suggestion',\n  },\n});\n"],"mappings":";;;;;;;AAAA;;;;eAEe,IAAAA,qBAAA,EAAa,CAAC;EAC3BC,OAD2B;EAE3BC,KAF2B;EAG3BC,MAH2B;EAI3BC;AAJ2B,CAAD,KAKtB;EACJ,IAAIA,KAAK,CAACC,SAAN,EAAJ,EAAuB;IACrB;EACD;;EAED,MAAM;IACJC,WAAW,GAAG,IADV;IAEJC,iBAAiB,GAAG;EAFhB,IAGFN,OAAO,CAACO,OAAR,CAAgB,CAAhB,KAAsB,EAH1B;EAKA,MAAMC,aAAa,GAAG,SAAtB;EAEA,MAAMC,gBAAgB,GAAGR,KAAK,CAACS,IAAN,CAAWC,MAAX,CAAkB,CAAC;IAC1CC;EAD0C,CAAD,KAErC;IACJ,OAAOA,GAAG,KAAKJ,aAAf;EACD,CAJwB,CAAzB;;EAMA,IAAI,CAACC,gBAAgB,CAACI,MAAtB,EAA8B;IAC5B,IAAIP,iBAAiB,IAAIH,KAAK,CAACW,mBAAN,EAArB,IACF,CAACX,KAAK,CAACY,SAAN,EADH,EAEE;MACA;IACD;;IAEDZ,KAAK,CAACa,WAAN,CAAmB,kBAAiBR,aAAc,eAAlD,EAAkE,IAAlE,EAAwE,MAAM;MAC5E,IAAIH,WAAJ,EAAiB;QACfF,KAAK,CAACc,MAAN,CAAaT,aAAb;MACD;IACF,CAJD;IAMA;EACD;;EAED,KAAK,MAAMU,OAAX,IAAsBT,gBAAtB,EAAwC;IACtC,MAAMU,cAAc,GAAI,GAAED,OAAO,CAACE,IAAK,IAAGjB,KAAK,CAACkB,iBAAN,CAAwBH,OAAxB,CAAiC,EAApD,CACpBI,IADoB,GAEpBC,KAFoB,CAEd,IAFc,EAGpBZ,MAHoB,CAGba,OAHa,CAAvB;;IAKA,IAAI,CAACL,cAAc,CAACN,MAApB,EAA4B;MAC1BX,MAAM,CAAE,kBAAiBM,aAAc,eAAjC,EAAiD,IAAjD,EAAuDU,OAAvD,CAAN;IACD;EACF;AACF,CAjDc,EAiDZ;EACDO,eAAe,EAAE,IADhB;EAEDC,IAAI,EAAE;IACJC,IAAI,EAAE;MACJC,WAAW,EAAE,4CADT;MAEJC,GAAG,EAAE;IAFD,CADF;IAKJC,OAAO,EAAE,MALL;IAMJC,MAAM,EAAE,CACN;MACEC,oBAAoB,EAAE,KADxB;MAEEC,UAAU,EAAE;QACVC,iBAAiB,EAAE;UACjBC,OAAO,EAAE,IADQ;UAEjBC,IAAI,EAAE;QAFW,CADT;QAKVC,YAAY,EAAE;UACZF,OAAO,EAAE,KADG;UAEZC,IAAI,EAAE;QAFM,CALJ;QASVE,YAAY,EAAE;UACZH,OAAO,EAAE,KADG;UAEZC,IAAI,EAAE;QAFM,CATJ;QAaVG,QAAQ,EAAE;UACRC,KAAK,EAAE;YACLC,KAAK,EAAE,CACL;cACEL,IAAI,EAAE;YADR,CADK,EAIL;cACEJ,oBAAoB,EAAE,KADxB;cAEEC,UAAU,EAAE;gBACVS,OAAO,EAAE;kBACPN,IAAI,EAAE;gBADC,CADC;gBAIVpC,OAAO,EAAE;kBACPoC,IAAI,EAAE;gBADC;cAJC,CAFd;cAUEA,IAAI,EAAE;YAVR,CAJK;UADF,CADC;UAoBRA,IAAI,EAAE;QApBE,CAbA;QAmCV/B,WAAW,EAAE;UACX8B,OAAO,EAAE,IADE;UAEXC,IAAI,EAAE;QAFK,CAnCH;QAuCVO,UAAU,EAAE;UACVH,KAAK,EAAE;YACLJ,IAAI,EAAE;UADD,CADG;UAIVA,IAAI,EAAE;QAJI,CAvCF;QA6CV9B,iBAAiB,EAAE;UACjB6B,OAAO,EAAE,KADQ;UAEjBC,IAAI,EAAE;QAFW;MA7CT,CAFd;MAoDEA,IAAI,EAAE;IApDR,CADM,CANJ;IA8DJA,IAAI,EAAE;EA9DF;AAFL,CAjDY,C"}