import { transform } from '@swc/core';
import { merge } from 'smob';

function swc(input = {}) {
    const swcOptions = merge({}, input.swc || {}, {
        jsc: {
            target: 'es2020',
            parser: {
                syntax: 'typescript',
                decorators: true
            },
            transform: {
                decoratorMetadata: true,
                legacyDecorator: true
            },
            loose: true
        }
    });
    return {
        name: 'swc',
        transform(code) {
            return transform(code, {
                ...swcOptions,
                sourceMaps: true
            });
        }
    };
}

export { swc as default, swc };
//# sourceMappingURL=index.js.map
