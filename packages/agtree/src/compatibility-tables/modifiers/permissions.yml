adg_os_any:
  name: permissions
  description: |-
    For the requests matching a `$permissions` rule, ad blocker strengthens response's feature policy
    by adding additional feature policy equal to the `$permissions` modifier contents.
    `$permissions` rules are applied independently from any other rule type.
  docs: https://adguard.app/kb/general/ad-filtering/create-own-filters/#permissions-modifier
  version_added: CoreLibs 1.11
  conflicts:
    - domain
    - important
    - subdocument
  inverse_conflicts: true
  assignable: true
  negatable: false
  value_format: |-
    (?x)
      ^
        (
          ?:(
            accelerometer|
            ambient-light-sensor|
            autoplay|
            battery|
            camera|
            display-capture|
            document-domain|
            encrypted-media|
            execution-while-not-rendered|
            execution-while-out-of-viewport|
            fullscreen|
            gamepad|
            geolocation|
            gyroscope|
            hid|
            identity-credentials-get|
            idle-detection|
            local-fonts|
            magnetometer|
            microphone|
            midi|
            payment|
            picture-in-picture|
            publickey-credentials-create|
            publickey-credentials-get|
            screen-wake-lock|
            serial|
            speaker-selection|
            storage-access|
            usb|
            web-share|
            xr-spatial-tracking
          )
          =\(\)
          # optional escaped comma for multiple permissions
          (\\,(\s+)?)?
        )+
      $
