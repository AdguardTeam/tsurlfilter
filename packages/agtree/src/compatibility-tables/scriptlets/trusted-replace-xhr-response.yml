common:
  is_trusted: true

adg_os_any|adg_ext_any|adg_safari_any:
  name: trusted-replace-xhr-response
  version_added: 1.7.3
  description: Replaces response content of xhr requests if all given parameters match.
  docs: https://github.com/AdguardTeam/Scriptlets/blob/master/wiki/about-trusted-scriptlets.md#trusted-replace-xhr-response
  parameters:
    - name: pattern
      required: false
      description: Argument for matching contents of responseText that should be replaced. If set, replacement is required.
    - name: replacement
      required: false
      description: Should be set if pattern is set. String to replace matched content with. Empty string to remove content.
    - name: propsToMatch
      required: false
      description: String of space-separated properties to match for extra condition.

ubo_any:
  name: trusted-replace-xhr-response.js
  version_added: 1.51.1rc3
  description: Replaces response text content of xhr requests if all given parameters match..
  docs: https://github.com/gorhill/uBlock/wiki/Resources-Library#trusted-replace-xhr-responsejs-
  aliases:
    - trusted-replace-xhr-response
  parameters:
    - name: pattern
      required: true
      description: |-
        Argument for matching contents of responseText that should be replaced. Possible values: If set, replacement is required.
    - name: replacement
      required: false
      description: Should be set if first parameter is set. String to replace the response text content matched by pattern. Empty string to remove content. Defaults to empty string.
    - name: propsToMatch
      required: false
      description: String of space-separated properties to match.
  ubo_tokens:
    - name: includes
      description: A string or regex that must match the full XHR response body before any replacement is attempted.
      value_format: null
      value_type: string

abp_any:
  name: replace-xhr-response
  version_added: 4.4.0
  description: Replaces the response of a XHR request if the response text matches a given regular expression pattern.
  docs: https://help.adblockplus.org/hc/en-us/articles/1500002338501-Snippet-filters-tutorial
  parameters:
    - name: search
      required: true
      description: String or regex pattern that will be run against the stringified XHR response. Everything that matches the regex will be replaced with the replacement value.
    - name: replacement
      required: false
      description: Everything that matches the regex will be replaced with the replacement value. By default this will be an empty string, so everything that matches the regex will be removed from the XHR response.
    - name: needle
      required: false
      description: |-
        The replacement will only happen if the needle text is present in the response. By default this is an empty string.
        If the string begins and ends with a slash (/), the text in between is treated as a regular expression.
